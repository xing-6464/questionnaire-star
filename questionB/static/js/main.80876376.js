(()=>{"use strict";var e={75883:(e,t,n)=>{n.d(t,{FJ:()=>r,Lw:()=>a,cz:()=>s,pG:()=>o,s3:()=>c,zv:()=>i});const s="keyword",r="page",o="pageSize",a=10,i=10,c=["#FF2D2D","#BE77FF","#2894FF","#00EC00","#EAC100","#FF9D6F"]},95008:(e,t,n)=>{var s=n(72229),r=n(8295),o=n(92315),a=n(48413),i=n(19632),c=n(51354);const l="MainLayout_header__kNUVp",d="MainLayout_left__YEHGt",u="MainLayout_right__ENba9",p="MainLayout_main__DKumc",m="MainLayout_footer__hpc3K";var h=n(82501),x=n(98772),g=n(83316);const j="Logo_container__ee+HB";var f=n(4196);const v=function(){const{username:e,nickname:t}=(0,f.G)((e=>e.user));return{username:e,nickname:t}};var y=n(68705);const{Title:A}=h.A,C=()=>{const{username:e}=v(),[t,n]=(0,s.useState)($e);return(0,s.useEffect)((()=>{e&&n(nt)}),[t]),(0,y.jsx)("div",{className:j,children:(0,y.jsx)(o.N_,{to:t,children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(A,{children:(0,y.jsx)(g.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})}),(0,y.jsx)(A,{children:"\u5c0f\u661f\u95ee\u5377"})]})})})};var _=n(24177),w=n(73847),b=n(80719),S=n(73997),P=n(62989);const k={username:"",nickname:""},L=(0,P.Z0)({name:"user",initialState:k,reducers:{loginReducer:(e,t)=>t.payload,logoutReducer:()=>k}}),{loginReducer:N,logoutReducer:I}=L.actions,E=L.reducer,T=()=>{const e=(0,a.Zp)(),t=(0,f.j)(),{username:n,nickname:s}=v();const r=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("span",{style:{color:"#e8e8e8"},children:[(0,y.jsx)(_.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),s]}),(0,y.jsx)(b.Ay,{type:"link",onClick:function(){t(I()),(0,S.eF)(),w.Ay.success("\u9000\u51fa\u6210\u529f"),e(et)},children:"\u9000\u51fa"})]}),i=(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.N_,{to:et,children:"\u767b\u5f55"})});return(0,y.jsx)("div",{children:n?r:i})};var F=n(47326),O=n(10589);async function z(){return await O.A.get("/api/user/info")}const q=function(){const e=(0,f.j)(),[t,n]=(0,s.useState)(!0),{username:r}=v(),{run:o}=(0,F.A)(z,{manual:!0,onSuccess(t){const{username:n,nickname:s}=t;e(N({username:n,nickname:s}))},onFinally(){n(!1)}});return(0,s.useEffect)((()=>{r?n(!1):o()}),[r]),{waitingUserData:t}};const D=function(e){const t=(0,a.Zp)(),{pathname:n}=(0,a.zy)(),{username:r}=v();(0,s.useEffect)((()=>{e||(r?function(e){return!![et,tt].includes(e)}(n)&&t(nt):function(e){return!![$e,et,tt].includes(e)}(n)||t(et))}),[e,r,n])},{Header:M,Content:H,Footer:Z}=i.A,R=()=>{const{waitingUserData:e}=q();return D(e),(0,y.jsxs)(i.A,{children:[(0,y.jsxs)(M,{className:l,children:[(0,y.jsx)("div",{className:d,children:(0,y.jsx)(C,{})}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)(T,{})})]}),(0,y.jsx)(H,{className:p,children:e?(0,y.jsx)("div",{style:{textAlign:"center",marginTop:"60px"},children:(0,y.jsx)(c.A,{})}):(0,y.jsx)(a.sv,{})}),(0,y.jsx)(Z,{className:m,children:"\u5c0f\u661f\u95ee\u5377 \xa9 2023 - present"})]})};var B=n(29590),U=n(90264),G=n(65830),K=n(64273),W=n(1335);const J="ManageLayout_container__PW8VZ",V="ManageLayout_left__HXikO",Q="ManageLayout_right__eMrOP";var X=n(15063);const Y=()=>{const e=(0,a.Zp)(),{pathname:t}=(0,a.zy)(),{loading:n,run:s}=(0,F.A)(X.Uj,{manual:!0,onSuccess(t){e("/question/edit/".concat(t.id||t._id)),w.Ay.success("\u521b\u5efa\u6210\u529f")}});return(0,y.jsxs)("div",{className:J,children:[(0,y.jsx)("div",{className:V,children:(0,y.jsxs)(x.A,{direction:"vertical",children:[(0,y.jsx)(b.Ay,{type:"primary",size:"large",icon:(0,y.jsx)(B.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:s,loading:n,children:"\u521b\u5efa\u95ee\u5377"}),(0,y.jsx)(W.A,{style:{borderTop:"transparent"}}),(0,y.jsx)(b.Ay,{type:t.startsWith("/manage/list")?"default":"text",size:"large",icon:(0,y.jsx)(U.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:()=>e("/manage/list"),children:"\u6211\u7684\u95ee\u5377"}),(0,y.jsx)(b.Ay,{type:t.startsWith("/manage/star")?"default":"text",size:"large",icon:(0,y.jsx)(G.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:()=>e("/manage/star"),children:"\u661f\u6807\u95ee\u5377"}),(0,y.jsx)(b.Ay,{type:t.startsWith("/manage/trash")?"default":"text",size:"large",icon:(0,y.jsx)(K.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:()=>e("/manage/trash"),children:"\u56de\u6536\u7ad9"})]})}),(0,y.jsx)("div",{className:Q,children:(0,y.jsx)(a.sv,{})})]})},$=()=>{const{waitingUserData:e}=q();return D(e),(0,y.jsx)("div",{style:{height:"100vh"},children:e?(0,y.jsx)("div",{style:{textAlign:"center",marginTop:"60px"},children:(0,y.jsx)(c.A,{})}):(0,y.jsx)(a.sv,{})})},ee="Home_container__V3WdN",te="Home_info__5Xmt1",{Title:ne,Paragraph:se}=h.A,re=()=>{const e=(0,a.Zp)();return q(),(0,y.jsx)("div",{className:ee,children:(0,y.jsxs)("div",{className:te,children:[(0,y.jsx)(ne,{children:"\u95ee\u5377\u8c03\u67e5 | \u5728\u7ebf\u6295\u7968"}),(0,y.jsx)(se,{children:"\u5df2\u7d2f\u8ba1\u521b\u5efa\u95ee\u5377 100 \u4efd\uff0c\u53d1\u5e03\u95ee\u5377 90 \u4efd\uff0c\u6536\u5230\u7b54\u5377 980 \u4efd"}),(0,y.jsx)("div",{children:(0,y.jsx)(b.Ay,{type:"primary",onClick:()=>{e(nt)},children:"\u5f00\u59cb\u4f7f\u7528"})})]})})};var oe=n(89970),ae=n(52344),ie=n(1983),ce=n(88682);const le="Register_container__b6TfY",{Title:de}=h.A,ue="USERNAME",pe="PASSWORD";const me=()=>{const[e]=oe.A.useForm(),t=(0,a.Zp)(),{run:n}=(0,F.A)((async(e,t)=>{const n=await async function(e,t){const n={username:e,password:t};return await O.A.post("/api/user/login",n)}(e,t);return n}),{manual:!0,onSuccess(e){const{token:n=""}=e;(0,S.WG)(n),w.Ay.success("\u767b\u5f55\u6210\u529f"),t("/")}});return(0,s.useEffect)((()=>{const{username:t,password:n}={username:localStorage.getItem(ue),password:localStorage.getItem(pe)};e.setFieldsValue({username:t,password:n})}),[]),(0,y.jsxs)("div",{className:le,children:[(0,y.jsx)("div",{children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(de,{level:2,children:(0,y.jsx)(ce.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})}),(0,y.jsx)(de,{level:2,children:"\u7528\u6237\u767b\u5f55"})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)(oe.A,{labelCol:{span:6},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){const{username:t,password:s,remember:r}=e||{};n(t,s),r?function(e,t){localStorage.setItem(ue,e),localStorage.setItem(pe,t)}(t,s):(localStorage.removeItem(ue),localStorage.removeItem(pe))},form:e,children:[(0,y.jsx)(oe.A.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{type:"string",min:5,max:20,message:"\u5b57\u7b26\u957f\u5ea6\u5728 5-20 \u4e4b\u95f4"},{pattern:/^\w+$/,message:"\u53ea\u80fd\u662f\u5b57\u6bcd\u6570\u5b57\u4e0b\u5212\u7ebf"}],children:(0,y.jsx)(ae.A,{})}),(0,y.jsx)(oe.A.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,y.jsx)(ae.A.Password,{})}),(0,y.jsx)(oe.A.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:6,span:16},children:(0,y.jsx)(ie.A,{children:"\u8bb0\u4f4f\u6211"})}),(0,y.jsx)(oe.A.Item,{wrapperCol:{offset:6,span:16},children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(b.Ay,{type:"primary",htmlType:"submit",children:"\u767b\u5f55"}),(0,y.jsx)(o.N_,{to:tt,children:"\u6ce8\u518c\u65b0\u7528\u6237"})]})})]})})]})},{Title:he}=h.A,xe=()=>{const e=(0,a.Zp)(),{run:t}=(0,F.A)((async e=>{const{username:t,password:n,nickname:s}=e;await async function(e,t,n){const s={username:e,password:t,nickname:n||e};return await O.A.post("/api/user/register",s)}(t,n,s)}),{manual:!0,onSuccess(){w.Ay.success("\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u767b\u5f55"),e(et)}});return(0,y.jsxs)("div",{className:le,children:[(0,y.jsx)("div",{children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(he,{level:2,children:(0,y.jsx)(ce.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})}),(0,y.jsx)(he,{level:2,children:"\u65b0\u7528\u6237\u6ce8\u518c"})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)(oe.A,{labelCol:{span:6},wrapperCol:{span:16},onFinish:function(e){t(e)},children:[(0,y.jsx)(oe.A.Item,{label:"\u7528\u6237\u540d",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{type:"string",min:5,max:20,message:"\u5b57\u7b26\u957f\u5ea6\u5728 5-20 \u4e4b\u95f4"},{pattern:/^\w+$/,message:"\u53ea\u80fd\u662f\u5b57\u6bcd\u6570\u5b57\u4e0b\u5212\u7ebf"}],children:(0,y.jsx)(ae.A,{})}),(0,y.jsx)(oe.A.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:(0,y.jsx)(ae.A.Password,{})}),(0,y.jsx)(oe.A.Item,{label:"\u786e\u8ba4\u5bc6\u7801",name:"confirm",dependencies:["password"],rules:[{required:!0,message:"\u786e\u5b9e\u8f93\u5165\u5bc6\u7801"},e=>{let{getFieldValue:t}=e;return{validator:(e,n)=>n&&t("password")!==n?Promise.reject(new Error("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")):Promise.resolve()}}],children:(0,y.jsx)(ae.A.Password,{})}),(0,y.jsx)(oe.A.Item,{label:"\u6635\u79f0",name:"nickname",children:(0,y.jsx)(ae.A,{})}),(0,y.jsx)(oe.A.Item,{wrapperCol:{offset:6,span:16},children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(b.Ay,{type:"primary",htmlType:"submit",children:"\u6ce8\u518c"}),(0,y.jsx)(o.N_,{to:et,children:"\u5df2\u6709\u8d26\u6237\uff0c\u767b\u5f55"})]})})]})})]})};var ge=n(58873);const je=()=>{const e=(0,a.Zp)();return(0,y.jsx)(ge.Ay,{status:"404",title:"404",subTitle:"\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728",extra:(0,y.jsx)(b.Ay,{type:"primary",onClick:()=>e(nt),children:"\u8fd4\u56de"})})};var fe=n(34940),ve=n(91165),ye=n(34748),Ae=n(62773),Ce=n(74354),_e=n(88373),we=n(28409),be=n(92134),Se=n(12182),Pe=n(94039);const ke="QuestionCard_container__1Xwej",Le="QuestionCard_title__ogLgH",Ne="QuestionCard_left__haWp+",Ie="QuestionCard_right__c-JwP",Ee="QuestionCard_button-container__Osobw",{confirm:Te}=Ae.A,Fe=e=>{const t=(0,a.Zp)(),{_id:n,title:r,createdAt:i,answerCount:c,isStar:l,isPublished:d}=e,[u,p]=(0,s.useState)(l),{loading:m,run:h}=(0,F.A)((async()=>{await(0,X.Tg)(n,{isStar:!u})}),{manual:!0,onSuccess(){p(!u),w.Ay.success("\u5df2\u66f4\u65b0")}}),{loading:g,run:j}=(0,F.A)((async()=>await(0,X.r5)(n)),{manual:!0,onSuccess(e){w.Ay.success("\u590d\u5236\u6210\u529f"),t("/question/edit/".concat(e.id||e._id))}}),[f,v]=(0,s.useState)(!1),{loading:A,run:C}=(0,F.A)((async()=>{await(0,X.Tg)(n,{isDeleted:!0})}),{manual:!0,onSuccess(){w.Ay.success("\u5220\u9664\u6210\u529f"),v(!0)}});return f?null:(0,y.jsxs)("div",{className:ke,children:[(0,y.jsxs)("div",{className:Le,children:[(0,y.jsx)("div",{className:Ne,children:(0,y.jsx)(o.N_,{to:d?"/question/stat/".concat(n):"/question/edit/".concat(n),children:(0,y.jsxs)(x.A,{children:[u&&(0,y.jsx)(G.A,{style:{color:"red"},onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),r]})})}),(0,y.jsx)("div",{className:Ie,children:(0,y.jsxs)(x.A,{children:[d?(0,y.jsx)(Ce.A,{color:"processing",children:"\u5df2\u53d1\u5e03"}):(0,y.jsx)(Ce.A,{children:"\u672a\u53d1\u5e03"}),(0,y.jsxs)("span",{children:["\u7b54\u5377\uff1a",c]}),(0,y.jsx)("span",{children:i})]})})]}),(0,y.jsx)(W.A,{style:{margin:"12px 0"}}),(0,y.jsxs)("div",{className:Ee,children:[(0,y.jsx)("div",{className:Ne,children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(b.Ay,{icon:(0,y.jsx)(be.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),type:"text",size:"small",onClick:()=>t("/question/edit/".concat(n)),children:"\u7f16\u8f91\u95ee\u5377"}),(0,y.jsx)(b.Ay,{icon:(0,y.jsx)(Se.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),type:"text",size:"small",onClick:()=>t("/question/stat/".concat(n)),disabled:!d,children:"\u95ee\u5377\u7edf\u8ba1"})]})}),(0,y.jsx)("div",{className:Ie,children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(b.Ay,{type:"text",icon:(0,y.jsx)(G.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),size:"small",onClick:h,loading:m,children:u?"\u53d6\u6d88\u6807\u661f":"\u6807\u661f"}),(0,y.jsx)(_e.A,{title:"\u786e\u5b9a\u590d\u5236\u8be5\u95ee\u5377\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:j,children:(0,y.jsx)(b.Ay,{type:"text",icon:(0,y.jsx)(Pe.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),size:"small",loading:g,children:"\u590d\u5236"})}),(0,y.jsx)(b.Ay,{type:"text",icon:(0,y.jsx)(K.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),size:"small",onClick:function(){Te({title:"\u786e\u8ba4\u5220\u9664\u8be5\u95ee\u5377\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",icon:(0,y.jsx)(we.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onOk:C})},loading:A,children:"\u5220\u9664"})]})})]})]})};var Oe=n(75883);const{Search:ze}=ae.A,qe=()=>{const[e,t]=(0,s.useState)(""),n=(0,a.Zp)(),{pathname:r}=(0,a.zy)(),[i]=(0,o.ok)();return(0,s.useEffect)((()=>{const e=i.get(Oe.cz)||"";t(e)}),[i]),(0,y.jsx)(ze,{placeholder:"\u8f93\u5165\u5173\u952e\u5b57",value:e,onChange:function(e){t(e.target.value)},onSearch:function(e){n({pathname:r,search:"".concat(Oe.cz,"=").concat(e)})},style:{width:"260px"},size:"large",allowClear:!0})},De={header:"common_header__u7ADZ",left:"common_left__NGirL",right:"common_right__HNuim",content:"common_content__B9kLJ",footer:"common_footer__MdYuz"},{Title:Me}=h.A,He=()=>{(0,fe.A)("\u5c0f\u661f\u95ee\u5377 - \u6211\u7684\u95ee\u5377");const[e]=(0,o.ok)(),t=(0,s.useRef)(null),[n,r]=(0,s.useState)(!1),[a,i]=(0,s.useState)(1),[l,d]=(0,s.useState)([]),[u,p]=(0,s.useState)(0),m=u>l.length,h=e.get(Oe.cz)||"";(0,s.useEffect)((()=>{r(!1),i(1),d([]),p(0)}),[h]);const{run:x,loading:g}=(0,F.A)((async()=>await(0,X.c0)({page:a,pageSize:Oe.Lw,keyword:h})),{manual:!0,onSuccess(e){console.log(e);const{list:t=[],count:n=0}=e;d(l.concat(t)),p(n),i(a+1)}}),{run:j}=(0,ve.A)((()=>{const e=t.current;if(null==e)return;const n=e.getBoundingClientRect();if(null==n)return;const{bottom:s}=n;s<=document.body.clientHeight&&(x(),r(!0))}),{wait:1e3});(0,s.useEffect)((()=>{j()}),[e]),(0,s.useEffect)((()=>(m&&window.addEventListener("scroll",j),()=>{window.removeEventListener("scroll",j)})),[e,m]);const f=(0,s.useMemo)((()=>!n||g?(0,y.jsx)(c.A,{}):0===u?(0,y.jsx)(ye.A,{description:"\u6682\u65e0\u6570\u636e"}):m?(0,y.jsx)("span",{children:"\u5f00\u59cb\u52a0\u8f7d\u4e0b\u4e00\u9875"}):(0,y.jsx)("span",{children:"\u6ca1\u6709\u66f4\u591a\u6570\u636e"})),[n,g,m]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:De.header,children:[(0,y.jsx)("div",{className:De.left,children:(0,y.jsx)(Me,{level:3,children:"\u6211\u7684\u95ee\u5377"})}),(0,y.jsx)("div",{className:De.right,children:(0,y.jsx)(qe,{})})]}),(0,y.jsx)("div",{className:De.content,children:l.length>0&&l.map((e=>{const{_id:t}=e;return(0,y.jsx)(Fe,{...e},t)}))}),(0,y.jsx)("div",{className:De.footer,children:(0,y.jsx)("div",{ref:t,children:f})})]})};var Ze=n(59150);const Re=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{isDeleted:t,isStar:n}=e,[s]=(0,o.ok)(),{data:r,loading:a,error:i,refresh:c}=(0,F.A)((async()=>{const e=s.get(Oe.cz)||"",r=parseInt(s.get(Oe.FJ)||"")||1,o=parseInt(s.get(Oe.pG)||"")||Oe.Lw;return await(0,X.c0)({keyword:e,isStar:n,isDeleted:t,page:r,pageSize:o})}),{refreshDeps:[s]});return{data:r,loading:a,error:i,refresh:c}};var Be=n(29746);const Ue=e=>{const{total:t}=e,[n,r]=(0,s.useState)(1),[i,c]=(0,s.useState)(Oe.Lw),[l]=(0,o.ok)(),d=(0,a.Zp)(),{pathname:u}=(0,a.zy)();return(0,s.useEffect)((()=>{const e=parseInt(l.get(Oe.FJ)||"")||1,t=parseInt(l.get(Oe.pG)||"")||Oe.Lw;r(e),c(t)}),[l]),(0,y.jsx)(Be.A,{current:n,onChange:function(e,t){l.set(Oe.FJ,e.toString()),l.set(Oe.pG,t.toString()),d({pathname:u,search:l.toString()})},pageSize:i,total:t})},{Title:Ge}=h.A,{confirm:Ke}=Ae.A,We=()=>{(0,fe.A)("\u5c0f\u661f\u95ee\u5377 - \u56de\u6536\u7ad9");const{data:e={},loading:t,refresh:n}=Re({isDeleted:!0}),{list:r=[],total:o=0}=e,[a,i]=(0,s.useState)([]),{run:l,loading:d}=(0,F.A)((async()=>{for await(const e of a)await(0,X.Tg)(e,{isDeleted:!1})}),{manual:!0,onSuccess:()=>{w.Ay.success("\u6062\u590d\u6210\u529f"),n(),i([])}}),{run:u,loading:p}=(0,F.A)((async()=>await(0,X.nT)(a)),{manual:!0,onSuccess:()=>{w.Ay.success("\u5220\u9664\u6210\u529f"),n(),i([])}});const m=[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u662f\u5426\u53d1\u5e03",dataIndex:"isPublished",render:e=>e?(0,y.jsx)(Ce.A,{color:"processing",children:"\u5df2\u53d1\u5e03"}):(0,y.jsx)(Ce.A,{children:"\u672a\u53d1\u5e03"})},{title:"\u7b54\u6848",dataIndex:"answerCount"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdAt"}],h=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{marginBottom:"16px"},children:(0,y.jsxs)(x.A,{children:[(0,y.jsx)(b.Ay,{type:"primary",disabled:0===a.length,onClick:l,loading:d,children:"\u6062\u590d"}),(0,y.jsx)(b.Ay,{danger:!0,disabled:0===a.length,onClick:function(){Ke({title:"\u786e\u5b9a\u5220\u9664\u8be5\u95ee\u5377\uff1f",icon:(0,y.jsx)(we.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),content:"\u5220\u9664\u4ee5\u540e\u4e0d\u53ef\u627e\u56de",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:()=>u()})},loading:p,children:"\u5f7b\u5e95\u5220\u9664"})]})}),(0,y.jsx)(Ze.A,{dataSource:r,columns:m,pagination:!1,rowKey:e=>e._id,rowSelection:{type:"checkbox",onChange:e=>{i(e)}}})]});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:De.header,children:[(0,y.jsx)("div",{className:De.left,children:(0,y.jsx)(Ge,{level:3,children:"\u56de\u6536\u7ad9"})}),(0,y.jsx)("div",{className:De.right,children:(0,y.jsx)(qe,{})})]}),(0,y.jsxs)("div",{className:De.container,children:[t&&(0,y.jsx)("div",{style:{textAlign:"center"},children:(0,y.jsx)(c.A,{})}),!t&&0===r.length&&(0,y.jsx)(ye.A,{description:"\u6682\u65e0\u6570\u636e"}),!t&&r.length>0&&h]}),(0,y.jsx)("div",{className:De.footer,children:(0,y.jsx)(Ue,{total:o})})]})},{Title:Je}=h.A,Ve=()=>{(0,fe.A)("\u5c0f\u661f\u95ee\u5377 - \u95ee\u5377\u6807\u661f");const{data:e={},loading:t}=Re({isStar:!0}),{list:n=[],total:s=0}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:De.header,children:[(0,y.jsx)("div",{className:De.left,children:(0,y.jsx)(Je,{level:3,children:"\u661f\u6807\u95ee\u5377"})}),(0,y.jsx)("div",{className:De.right,children:(0,y.jsx)(qe,{})})]}),(0,y.jsxs)("div",{className:De.container,children:[t&&(0,y.jsx)("div",{style:{textAlign:"center"},children:(0,y.jsx)(c.A,{})}),!t&&0===n.length&&(0,y.jsx)(ye.A,{description:"\u6682\u65e0\u6570\u636e"}),!t&&n.length>0&&n.map((e=>{const{_id:t}=e;return(0,y.jsx)(Fe,{...e},t)}))]}),(0,y.jsx)("div",{className:De.footer,children:(0,y.jsx)(Ue,{total:s})})]})},Qe=s.lazy((()=>Promise.all([n.e(858),n.e(851),n.e(444),n.e(805),n.e(166)]).then(n.bind(n,85101)))),Xe=s.lazy((()=>Promise.all([n.e(858),n.e(851),n.e(444),n.e(805),n.e(868)]).then(n.bind(n,19125)))),Ye=(0,o.Ys)([{path:"/",element:(0,y.jsx)(R,{}),children:[{path:"/",element:(0,y.jsx)(re,{})},{path:"/login",element:(0,y.jsx)(me,{})},{path:"/register",element:(0,y.jsx)(xe,{})},{path:"manage",element:(0,y.jsx)(Y,{}),children:[{path:"list",element:(0,y.jsx)(He,{})},{path:"star",element:(0,y.jsx)(Ve,{})},{path:"trash",element:(0,y.jsx)(We,{})}]},{path:"*",element:(0,y.jsx)(je,{})}]},{path:"question",element:(0,y.jsx)($,{}),children:[{path:"edit/:id",element:(0,y.jsx)(Qe,{})},{path:"stat/:id",element:(0,y.jsx)(Xe,{})}]}]),$e="/",et="/login",tt="/register",nt="/manage/list";n(50113);const st=function(){return(0,y.jsx)(o.pg,{router:Ye})},rt=e=>{e&&e instanceof Function&&n.e(444).then(n.bind(n,99554)).then((t=>{let{getCLS:n,getFID:s,getFCP:r,getLCP:o,getTTFB:a}=t;n(e),s(e),r(e),o(e),a(e)}))};var ot=n(62185),at=n(46838),it=n(77597),ct=n(84689);const lt=(0,P.U1)({reducer:{user:E,components:(0,at.Ay)(it.Ay,{limit:20,syncFilter:!0,filter:(0,at.xp)(["components/resetComponents","components/changeSelectedId","components/selectPrevComponent","components/selectNextComponent"])}),pageInfo:ct.Ay}});r.createRoot(document.getElementById("root")).render((0,y.jsx)(s.StrictMode,{children:(0,y.jsx)(ot.Kq,{store:lt,children:(0,y.jsx)(st,{})})})),rt()},10589:(e,t,n)=>{n.d(t,{A:()=>i});var s=n(73847),r=n(32524),o=n(73997);const a=r.A.create({baseURL:"http://1.94.45.254:8080/",timeout:1e4,headers:{}});a.interceptors.request.use((e=>{const t=(0,o.gf)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),a.interceptors.response.use((e=>{const t=e.data||{},{errno:n,data:r,msg:o}=t;if(0!==n)throw o&&s.Ay.error(o),new Error(o);return r}));const i=a},15063:(e,t,n)=>{n.d(t,{C5:()=>r,Tg:()=>i,Uj:()=>o,c0:()=>a,nT:()=>l,r5:()=>c});var s=n(10589);async function r(e){const t="/api/question/".concat(e);return await s.A.get(t)}async function o(){return await s.A.post("/api/question")}async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await s.A.get("/api/question",{params:e})}async function i(e,t){const n="/api/question/".concat(e);return await s.A.patch(n,t)}async function c(e){const t="/api/question/duplicate/".concat(e,"/");return await s.A.post(t)}async function l(e){return await s.A.delete("/api/question",{data:{ids:e}})}},77597:(e,t,n)=>{n.d(t,{X8:()=>p,CK:()=>x,Kb:()=>m,oA:()=>A,RC:()=>u,Sk:()=>j,Ay:()=>_,pp:()=>C,F7:()=>f,Tg:()=>h,Km:()=>d,t$:()=>y,p5:()=>v,ON:()=>g});var s=n(62989);function r(e,t){const n=t.filter((e=>!e.isHidden)),s=n.findIndex((t=>t.fe_id===e));if(s<0)return"";let r="";const o=n.length;return r=o<=1?"":s+1===o?n[s-1].fe_id:n[s+1].fe_id,r}function o(e,t){const{selectedId:n,componentList:s}=e,r=s.findIndex((e=>e.fe_id===n));r<0?e.componentList.push(t):e.componentList.splice(r+1,0,t),e.selectedId=t.fe_id}var a=n(14411),i=n.n(a),c=n(4284);const l=(0,s.Z0)({name:"components",initialState:{selectedId:"",componentList:[],copiedComponent:null},reducers:{resetComponents:(e,t)=>t.payload,changeSelectedId:(e,t)=>{e.selectedId=t.payload},addComponent:(e,t)=>{o(e,t.payload)},changeComponentProps:(e,t)=>{const{fe_id:n,props:s}=t.payload,r=e.componentList.find((e=>e.fe_id===n));r&&(r.props={...r.props,...s})},removeSelectedComponent:e=>{const{componentList:t,selectedId:n}=e,s=r(n,t);e.selectedId=s;const o=t.findIndex((e=>e.fe_id===n));e.componentList.splice(o,1)},changeComponentHidden:(e,t)=>{const{componentList:n}=e,{fe_id:s,isHidden:o}=t.payload;let a="";a=o?r(s,n):s,e.selectedId=a;const i=n.find((e=>e.fe_id===s));i&&(i.isHidden=o)},toggleComponentLocked:(e,t)=>{const{fe_id:n}=t.payload,s=e.componentList.find((e=>e.fe_id===n));s&&(s.isLocked=!s.isLocked)},copySelectedComponent:e=>{const{selectedId:t,componentList:n}=e,s=n.find((e=>e.fe_id===t));null!=s&&(e.copiedComponent=i()(s))},pasteCopiedComponent:e=>{null!=e.copiedComponent&&(e.copiedComponent.fe_id=(0,s.Ak)(),o(e,e.copiedComponent))},selectPrevComponent:e=>{const{selectedId:t,componentList:n}=e,s=n.findIndex((e=>e.fe_id===t));s<=0||(e.selectedId=n[s-1].fe_id)},selectNextComponent:e=>{const{selectedId:t,componentList:n}=e,s=n.findIndex((e=>e.fe_id===t));s<0||s+1!==n.length&&(e.selectedId=n[s+1].fe_id)},changeComponentTitle:(e,t)=>{const{fe_id:n,title:s}=t.payload,r=e.componentList.find((e=>e.fe_id===n));r&&(r.title=s)},moveComponent:(e,t)=>{const{componentList:n}=e,{oldIndex:s,newIndex:r}=t.payload;e.componentList=(0,c.be)(n,s,r)}}}),{resetComponents:d,changeSelectedId:u,addComponent:p,changeComponentProps:m,removeSelectedComponent:h,changeComponentHidden:x,toggleComponentLocked:g,copySelectedComponent:j,pasteCopiedComponent:f,selectPrevComponent:v,selectNextComponent:y,changeComponentTitle:A,moveComponent:C}=l.actions,_=l.reducer},4196:(e,t,n)=>{n.d(t,{G:()=>o,j:()=>r});var s=n(62185);const r=s.wA,o=s.d4},84689:(e,t,n)=>{n.d(t,{Ay:()=>a,I5:()=>o,nq:()=>r});const s=(0,n(62989).Z0)({name:"pageInfo",initialState:{title:"",desc:"",js:"",css:""},reducers:{resetPageInfo:(e,t)=>t.payload,changePageTitle:(e,t)=>{e.title=t.payload}}}),{resetPageInfo:r,changePageTitle:o}=s.actions,a=s.reducer},73997:(e,t,n)=>{n.d(t,{WG:()=>r,eF:()=>a,gf:()=>o});const s="USER_TOKEN";function r(e){localStorage.setItem(s,e)}function o(){return localStorage.getItem(s)||""}function a(){localStorage.removeItem(s)}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,s,r,o)=>{if(!s){var a=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](s[c])))?s.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&s;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>a[e]=()=>s[e]));return a.default=()=>s,n.d(o,a),o}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>"static/js/"+({166:"editPage",868:"statPage"}[e]||e)+"."+{166:"5227750d",805:"fa1df9aa",868:"200c1453"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+{166:"editPage",868:"statPage"}[e]+"."+{166:"6de8d2d2",868:"9d6099c6"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="questionnaire-star:";n.l=(s,r,o,a)=>{if(e[s])e[s].push(r);else{var i,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[r];var p=(t,n)=>{i.onerror=i.onload=null,clearTimeout(m);var r=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,s)=>{var r=n.miniCssF(e),o=n.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var r=(a=n[s]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){var a;if((r=(a=o[s]).getAttribute("data-href"))===e||r===t)return a}})(r,o))return t();((e,t,n,s,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)s();else{var a=n&&n.type,i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=i,o.parentNode&&o.parentNode.removeChild(o),r(c)}},o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)})(e,o,null,t,s)})),t={792:0};n.f.miniCss=(n,s)=>{t[n]?s.push(t[n]):0!==t[n]&&{166:1,868:1}[n]&&s.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var o=new Promise(((n,s)=>r=e[t]=[n,s]));s.push(r[2]=o);var a=n.p+n.u(t),i=new Error;n.l(a,(s=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,s)=>{var r,o,a=s[0],i=s[1],c=s[2],l=0;if(a.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var d=c(n)}for(t&&t(s);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=self.webpackChunkquestionnaire_star=self.webpackChunkquestionnaire_star||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[858,851,444],(()=>n(95008)));s=n.O(s)})();
//# sourceMappingURL=main.80876376.js.map