"use strict";(self.webpackChunkquestionnaire_star=self.webpackChunkquestionnaire_star||[]).push([[868],{19125:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var s=n(72229),i=n(34842),c=n(51354),o=n(58873),r=n(80719),a=n(9619),l=n(48413),d=n(34940);const p="Stat_container__oa4wQ",u="Stat_content-wrapper__vgx9c",x="Stat_content__sBQcK",m="Stat_left__8kGf3",j="Stat_main__1tUtH",h="Stat_right__J9PhA",_="StatHeader_header-wrapper__814R5",v="StatHeader_header__vJlwa",C="StatHeader_left__cOMvd",A="StatHeader_right__X2Ce3",y="StatHeader_main__srK1W";var S=n(82501),f=n(73847),g=n(2829),w=n(98772),N=n(52344),T=n(3562),k=n(42426),I=n(94039),P=n(77516),L=n(52847),H=n(68705);const{Title:b}=S.A;const q=function(){const e=(0,l.Zp)(),{id:t}=(0,l.g)(),{title:n,isPublished:i}=(0,a.A)(),c=s.useRef(null);function o(){const e=c.current;null!=e&&(e.select(),document.execCommand("copy"),f.Ay.success("\u62f7\u8d1d\u6210\u529f"))}const d=(0,s.useMemo)((()=>{if(!i)return null;const e="http://1.94.45.254:8001/question/".concat(t),n=(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)(g.A,{value:e,size:150})});return(0,H.jsxs)(w.A,{children:[(0,H.jsx)(N.A,{value:e,style:{width:"300px"},ref:c}),(0,H.jsx)(T.A,{title:"\u62f7\u8d1d\u94fe\u63a5",children:(0,H.jsx)(r.Ay,{icon:(0,H.jsx)(I.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:o})}),(0,H.jsx)(k.A,{content:n,children:(0,H.jsx)(r.Ay,{icon:(0,H.jsx)(P.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})})})]})}),[t,i]);return(0,H.jsx)("div",{className:_,children:(0,H.jsxs)("div",{className:v,children:[(0,H.jsx)("div",{className:C,children:(0,H.jsxs)(w.A,{children:[(0,H.jsx)(r.Ay,{type:"link",icon:(0,H.jsx)(L.A,{onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0}),onClick:()=>e(-1),children:"\u8fd4\u56de"}),(0,H.jsx)(b,{children:n})]})}),(0,H.jsx)("div",{className:y,children:d}),(0,H.jsx)("div",{className:A,children:(0,H.jsx)(r.Ay,{type:"primary",onClick:()=>e("/question/edit/".concat(t)),children:"\u7f16\u8f91\u95ee\u5377"})})]})})};var z=n(41185);const E="ComponentList_container__qjyO-",F="ComponentList_component-wrapper__WnHcu",W="ComponentList_selected__GcPU+",G="ComponentList_component__WSEl5";var J=n(96472),K=n(32253),M=n.n(K);const O=function(e){const{selectedComponentId:t,setSelectedComponentId:n,setSelectedComponentType:s}=e,{componentList:i}=(0,z.A)();return(0,H.jsx)("div",{className:E,children:i.filter((e=>!e.isHidden)).map((e=>{const{fe_id:i,props:c,type:o}=e,r=(0,J.T)(o);if(null==r)return null;const{Component:a}=r,l=F,d=W,p=M()({[l]:!0,[d]:i===t});return(0,H.jsx)("div",{className:p,onClick:()=>{n(i),s(o)},children:(0,H.jsx)("div",{className:G,children:(0,H.jsx)(a,{...c})})},i)}))})};var Q=n(47326),R=n(10589);var U=n(59150),Z=n(29746);function B(){return(0,H.jsx)("div",{style:{textAlign:"center",marginTop:"60px"},children:(0,H.jsx)(c.A,{})})}var D=n(75883);const{Title:X}=S.A;const V=function(e){const{selectedComponentId:t,setSelectedComponentId:n,setSelectedComponentType:i}=e,{id:c=""}=(0,l.g)(),[o,r]=(0,s.useState)(),[a,d]=(0,s.useState)([]),[p,u]=(0,s.useState)(1),[x,m]=(0,s.useState)(D.zv),{loading:j}=(0,Q.A)((async()=>await async function(e,t){const n="/api/stat/".concat(e);return await R.A.get(n,{params:t})}(c,{page:p,pageSize:x})),{refreshDeps:[c,p,x],onSuccess(e){const{total:t,list:n=[]}=e;r(t),d(n)}}),{componentList:h}=(0,z.A)(),_=h.map((e=>{const{fe_id:s,title:c,type:o,props:r={}}=e,a=r.title||c;return{title:(0,H.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{n(s),i(o)},children:(0,H.jsx)("span",{style:{color:s===t?"#1890ff":"inherit"},children:a})}),dataIndex:s}})),v=a.map((e=>({...e,key:e._id}))),C=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(U.A,{columns:_,dataSource:v,pagination:!1}),(0,H.jsx)("div",{style:{textAlign:"center",marginTop:"18px"},children:(0,H.jsx)(Z.A,{total:o,pageSize:x,current:p,onChange:e=>u(e),onShowSizeChange:(e,t)=>{u(e),m(t)}})})]});return(0,H.jsxs)("div",{children:[(0,H.jsxs)(X,{level:3,children:["\u7b54\u5377\u6570\u91cf\uff1a",!j&&o]}),j&&(0,H.jsx)(B,{}),!j&&C]})},{Title:Y}=S.A;const $=function(e){const{selectedComponentId:t,selectedComponentType:n}=e,{id:i=""}=(0,l.g)(),[c,o]=s.useState([]),{run:r}=(0,Q.A)((async(e,t)=>await async function(e,t){const n="/api/stat/".concat(e,"/").concat(t);return await R.A.get(n)}(e,t)),{manual:!0,onSuccess(e){o(e.stat)}});return(0,s.useEffect)((()=>{t&&r(i,t)}),[i,t]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Y,{level:3,children:"\u7edf\u8ba1\u5217\u8868"}),(0,H.jsx)("div",{children:function(){if(!t)return(0,H.jsx)("div",{children:"\u672a\u4e2d\u7ec4\u4ef6"});const{StatComponent:e}=(0,J.T)(n)||{};return e?(0,H.jsx)(e,{stat:c}):(0,H.jsx)("div",{children:"\u8be5\u7ec4\u4ef6\u65e0\u7edf\u8ba1\u56fe\u8868"})}()})]})},ee=()=>{const e=(0,l.Zp)(),{loading:t}=(0,i.A)(),{isPublished:n}=(0,a.A)(),[_,v]=(0,s.useState)(""),[C,A]=(0,s.useState)("");(0,d.A)("\u95ee\u5377\u7edf\u8ba1");const y=()=>(0,H.jsx)("div",{style:{textAlign:"center",marginTop:"60px"},children:(0,H.jsx)(c.A,{})});return(0,H.jsxs)("div",{className:p,children:[(0,H.jsx)(q,{}),(0,H.jsx)("div",{className:u,children:t?(0,H.jsx)(y,{}):(0,H.jsx)("div",{className:x,children:"boolean"!==typeof n||n?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:m,children:(0,H.jsx)(O,{selectedComponentId:_,setSelectedComponentId:v,setSelectedComponentType:A})}),(0,H.jsx)("div",{className:j,children:(0,H.jsx)(V,{selectedComponentId:_,setSelectedComponentId:v,setSelectedComponentType:A})}),(0,H.jsx)("div",{className:h,children:(0,H.jsx)($,{selectedComponentId:_,selectedComponentType:C})})]}):(0,H.jsx)("div",{style:{flex:1},children:(0,H.jsx)(o.Ay,{status:"warning",title:"\u8be5\u9875\u9762\u672a\u53d1\u5e03",extra:(0,H.jsx)(r.Ay,{type:"primary",onClick:()=>e(-1),children:"\u8fd4\u56de"})})})})})]})}}}]);
//# sourceMappingURL=statPage.200c1453.chunk.js.map