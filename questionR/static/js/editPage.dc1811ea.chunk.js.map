{"version":3,"file":"static/js/editPage.dc1811ea.chunk.js","mappings":"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","sources":["webpack://questionnaire-star/./src/pages/question/Edit/index.module.scss?bf24","webpack://questionnaire-star/./src/pages/question/Edit/EditCanvas.module.scss?f695","hooks/useBindCanvasKeyPress.ts","components/DragSortable/SortableContainer.tsx","components/DragSortable/SortableItem.tsx","pages/question/Edit/EditCanvas.tsx","webpack://questionnaire-star/./src/pages/question/Edit/ComponentLib.module.scss?fd5c","pages/question/Edit/ComponentLib.tsx","webpack://questionnaire-star/./src/pages/question/Edit/Layers.module.scss?37f4","pages/question/Edit/Layers.tsx","pages/question/Edit/LeftPanel.tsx","pages/question/Edit/ComponentProp.tsx","pages/question/Edit/PageSetting.tsx","pages/question/Edit/RightPanel.tsx","webpack://questionnaire-star/./src/pages/question/Edit/EditHeader.module.scss?c967","pages/question/Edit/EditToolbar.tsx","pages/question/Edit/EditHeader.tsx","pages/question/Edit/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Edit_container__hQHmA\",\"content-wrapper\":\"Edit_content-wrapper__oF-2+\",\"content\":\"Edit_content__6EOOO\",\"left\":\"Edit_left__tj0Zu\",\"main\":\"Edit_main__ErVr+\",\"canvas-wrapper\":\"Edit_canvas-wrapper__+BQUn\",\"right\":\"Edit_right__8gGSw\"};","// extracted by mini-css-extract-plugin\nexport default {\"canvas\":\"EditCanvas_canvas__RU5lm\",\"component-wrapper\":\"EditCanvas_component-wrapper__0wqnO\",\"selected\":\"EditCanvas_selected__T3n77\",\"locked\":\"EditCanvas_locked__WY1aB\",\"component\":\"EditCanvas_component__-lpi3\"};","import { useKeyPress } from 'ahooks'\r\nimport { ActionCreators as UndoActionCreators } from 'redux-undo'\r\nimport { useAppDispatch } from '../store/hooks'\r\nimport {\r\n  copySelectedComponent,\r\n  pasteCopiedComponent,\r\n  removeSelectedComponent,\r\n  selectNextComponent,\r\n  selectPrevComponent,\r\n} from '../store/componentsReducer'\r\n\r\nfunction isActiveElementValid() {\r\n  const activeElem = document.activeElement\r\n\r\n  // 没有dnd\r\n  // if (activeElem === document.body) return true // 光标没有 focus 到input元素\r\n  // 有dnd\r\n  if (activeElem === document.body) return true\r\n  if (activeElem?.matches('div[role=\"button\"]')) return true\r\n\r\n  return false\r\n}\r\n\r\nfunction useBindCanvasKeyPress() {\r\n  const dispatch = useAppDispatch()\r\n\r\n  // 删除组件\r\n  useKeyPress(['backspace', 'delete'], () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(removeSelectedComponent())\r\n  })\r\n\r\n  // 复制组件\r\n  useKeyPress(['ctrl.c', 'meta.c'], () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(copySelectedComponent())\r\n  })\r\n\r\n  // 粘贴组件\r\n  useKeyPress(['ctrl.v', 'meta.v'], () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(pasteCopiedComponent())\r\n  })\r\n\r\n  // 选中上一个组件\r\n  useKeyPress('uparrow', () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(selectPrevComponent())\r\n  })\r\n\r\n  // 选中下一个组件\r\n  useKeyPress('downarrow', () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(selectNextComponent())\r\n  })\r\n\r\n  // 撤销\r\n  useKeyPress(\r\n    ['ctrl.z', 'meta.z'],\r\n    () => {\r\n      if (!isActiveElementValid()) return\r\n      dispatch(UndoActionCreators.undo())\r\n    },\r\n    {\r\n      exactMatch: true,\r\n    }\r\n  )\r\n\r\n  // 重做\r\n  useKeyPress(['ctrl.shift.z', 'meta.shift.z'], () => {\r\n    if (!isActiveElementValid()) return\r\n    dispatch(UndoActionCreators.redo())\r\n  })\r\n}\r\n\r\nexport default useBindCanvasKeyPress\r\n","import React from 'react'\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  useSensor,\r\n  useSensors,\r\n  DragEndEvent,\r\n  MouseSensor,\r\n} from '@dnd-kit/core'\r\n\r\nimport {\r\n  // arrayMove,\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable'\r\n\r\ntype Item = { [key in string]: any } & { id: string }\r\n\r\ntype PropsType = {\r\n  items: Item[]\r\n  onDragEnd: (oldIndex: number, newIndex: number) => void\r\n  children: JSX.Element | JSX.Element[]\r\n}\r\n\r\nfunction SortableContainer(props: PropsType) {\r\n  const { children, onDragEnd, items } = props\r\n\r\n  const sensors = useSensors(useSensor(MouseSensor, { activationConstraint: { distance: 8 } }))\r\n\r\n  function handleDragEnd(event: DragEndEvent) {\r\n    const { active, over } = event\r\n    if (over == null) return\r\n\r\n    if (active.id !== over.id) {\r\n      const oldIndex = items.findIndex(c => c.fe_id === active.id)\r\n      const newIndex = items.findIndex(c => c.fe_id === over.id)\r\n      onDragEnd(oldIndex, newIndex)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\r\n      <SortableContext items={items} strategy={verticalListSortingStrategy}>\r\n        {children}\r\n      </SortableContext>\r\n    </DndContext>\r\n  )\r\n}\r\n\r\nexport default SortableContainer\r\n","import React from 'react'\r\nimport { useSortable } from '@dnd-kit/sortable'\r\nimport { CSS } from '@dnd-kit/utilities'\r\n\r\ntype PropType = {\r\n  id: string\r\n  children: JSX.Element\r\n}\r\n\r\nfunction SortableItem(props: PropType) {\r\n  const { id, children } = props\r\n\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id })\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  }\r\n\r\n  return (\r\n    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SortableItem\r\n","import React from 'react'\r\nimport { Spin } from 'antd'\r\nimport classNames from 'classnames'\r\n\r\nimport styles from './EditCanvas.module.scss'\r\n// 静态展示\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\nimport {\r\n  ComponentInfoType,\r\n  changeSelectedId,\r\n  moveComponent,\r\n} from '../../../store/componentsReducer'\r\nimport { getComponentConfByType } from '../../../components/QuestionComponents'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport useBindCanvasKeyPress from '../../../hooks/useBindCanvasKeyPress'\r\n\r\nimport SortableContainer from '../../../components/DragSortable/SortableContainer'\r\nimport SortableItem from '../../../components/DragSortable/SortableItem'\r\n\r\ntype Props = {\r\n  loading: boolean\r\n}\r\n\r\nfunction genComponent(componentInfo: ComponentInfoType) {\r\n  const { type, props } = componentInfo\r\n  const componentConf = getComponentConfByType(type)\r\n  if (componentConf == null) return null\r\n\r\n  const { Component } = componentConf\r\n\r\n  return <Component {...props} />\r\n}\r\n\r\nfunction EditCanvas(props: Props) {\r\n  const { loading } = props\r\n  const { componentList, selectedId } = useGetComponentInfo()\r\n  const dispatch = useAppDispatch()\r\n\r\n  // 绑定快捷键\r\n  useBindCanvasKeyPress()\r\n\r\n  function handleClick(event: React.MouseEvent, id: string) {\r\n    event.stopPropagation()\r\n    dispatch(changeSelectedId(id))\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', marginTop: '24px' }}>\r\n        <Spin />\r\n      </div>\r\n    )\r\n  }\r\n  // SortableContainer 组件的 items 属性，需要每个 item 都有 id 属性\r\n  const componentListWithId = componentList.map(c => ({ ...c, id: c.fe_id }))\r\n\r\n  // 排序函数结束回调\r\n  function handleDragEnd(oldIndex: number, newIndex: number) {\r\n    dispatch(moveComponent({ oldIndex, newIndex }))\r\n  }\r\n\r\n  return (\r\n    <SortableContainer items={componentListWithId} onDragEnd={handleDragEnd}>\r\n      <div className={styles.canvas}>\r\n        {componentList\r\n          .filter(c => !c.isHidden)\r\n          .map(c => {\r\n            const { fe_id, isLocked } = c\r\n\r\n            const wrapperDefaultClassName = styles['component-wrapper']\r\n            const selectedClassName = styles.selected\r\n            const lockedClassName = styles.locked\r\n            const wrapperClassName = classNames({\r\n              [wrapperDefaultClassName]: true,\r\n              [selectedClassName]: fe_id === selectedId,\r\n              [lockedClassName]: isLocked,\r\n            })\r\n            return (\r\n              <SortableItem key={fe_id} id={fe_id}>\r\n                <div className={wrapperClassName} onClick={e => handleClick(e, fe_id)}>\r\n                  <div className={styles.component}>{genComponent(c)}</div>\r\n                </div>\r\n              </SortableItem>\r\n            )\r\n          })}\r\n      </div>\r\n    </SortableContainer>\r\n  )\r\n}\r\n\r\nexport default EditCanvas\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ComponentLib_wrapper__Nu8iQ\",\"component\":\"ComponentLib_component__PukLM\"};","import React, { useCallback } from 'react'\r\nimport { Typography } from 'antd'\r\nimport { componentConfGroup, type ComponentConfType } from '../../../components/QuestionComponents'\r\nimport styles from './ComponentLib.module.scss'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport { addComponent } from '../../../store/componentsReducer'\r\nimport { nanoid } from '@reduxjs/toolkit'\r\n\r\nconst { Title } = Typography\r\n\r\nfunction genComponent(c: ComponentConfType) {\r\n  const { title, type, Component, defaultProps } = c\r\n  const dispatch = useAppDispatch()\r\n\r\n  const handleClick = useCallback(() => {\r\n    dispatch(\r\n      addComponent({\r\n        fe_id: nanoid(),\r\n        title,\r\n        type,\r\n        props: defaultProps,\r\n      })\r\n    )\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles.wrapper} key={type} onClick={handleClick}>\r\n      <div className={styles.component}>\r\n        <Component />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ComponentLib: React.FC = () => {\r\n  return (\r\n    <>\r\n      {componentConfGroup.map((group, index) => {\r\n        const { groupId, groupName, components } = group\r\n\r\n        return (\r\n          <div key={groupId}>\r\n            <Title level={3} style={{ fontSize: '16px', marginTop: index > 0 ? '20px' : '0' }}>\r\n              {groupName}\r\n            </Title>\r\n            <div>{components.map(c => genComponent(c))}</div>\r\n          </div>\r\n        )\r\n      })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ComponentLib\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Layers_wrapper__eo8ca\",\"title\":\"Layers_title__YvA1o\",\"selected\":\"Layers_selected__vLrVw\",\"handler\":\"Layers_handler__oD2A3\",\"btn\":\"Layers_btn__7d3Uq\"};","import React, { useState } from 'react'\r\n\r\nimport classNames from 'classnames'\r\nimport { Button, Input, Space, message } from 'antd'\r\nimport { EyeInvisibleOutlined, LockOutlined } from '@ant-design/icons'\r\nimport styles from './Layers.module.scss'\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport {\r\n  changeComponentHidden,\r\n  changeComponentTitle,\r\n  changeSelectedId,\r\n  moveComponent,\r\n  toggleComponentLocked,\r\n} from '../../../store/componentsReducer'\r\nimport SortableContainer from '../../../components/DragSortable/SortableContainer'\r\nimport SortableItem from '../../../components/DragSortable/SortableItem'\r\n\r\nfunction Layers() {\r\n  const { componentList, selectedId } = useGetComponentInfo()\r\n  const dispatch = useAppDispatch()\r\n\r\n  // 记录当前正在修改标题的组件\r\n  const [changingTitleId, setChangingTitleId] = useState('')\r\n\r\n  // 点击选中组件\r\n  function handleTitleClick(fe_id: string) {\r\n    const curComp = componentList.find(c => c.fe_id === fe_id)\r\n    if (curComp && curComp.isHidden) {\r\n      message.info('不能选中隐藏组件')\r\n      return\r\n    }\r\n    if (fe_id !== selectedId) {\r\n      setChangingTitleId('')\r\n      dispatch(changeSelectedId(fe_id))\r\n      return\r\n    }\r\n\r\n    // 点击修改标题\r\n    setChangingTitleId(fe_id)\r\n  }\r\n\r\n  // 修改标题\r\n  function changeTitle(event: React.ChangeEvent<HTMLInputElement>) {\r\n    const newTitle = event.target.value.trim()\r\n    if (!newTitle) return\r\n    if (!selectedId) return\r\n\r\n    dispatch(changeComponentTitle({ fe_id: selectedId, title: newTitle }))\r\n  }\r\n\r\n  // 切换 隐藏/显示\r\n  function changeHidden(fe_id: string, isHidden: boolean) {\r\n    dispatch(changeComponentHidden({ fe_id, isHidden }))\r\n  }\r\n\r\n  // 切换 锁定/解锁\r\n  function changeLocked(fe_id: string) {\r\n    dispatch(toggleComponentLocked({ fe_id }))\r\n  }\r\n\r\n  // SortableContainer 组件的 items 属性，需要每个 item 都有 id 属性\r\n  const componentListWithId = componentList.map(c => ({ ...c, id: c.fe_id }))\r\n\r\n  // 排序函数结束回调\r\n  function handleDragEnd(oldIndex: number, newIndex: number) {\r\n    dispatch(moveComponent({ oldIndex, newIndex }))\r\n  }\r\n\r\n  return (\r\n    <SortableContainer items={componentListWithId} onDragEnd={handleDragEnd}>\r\n      {componentList.map(component => {\r\n        const { fe_id, title, isHidden, isLocked } = component\r\n\r\n        const titleDefaultClassName = styles.title\r\n        const selectedClassName = styles.selected\r\n        const titleClassNames = classNames({\r\n          [titleDefaultClassName]: true,\r\n          [selectedClassName]: fe_id === selectedId,\r\n        })\r\n\r\n        return (\r\n          <SortableItem key={fe_id} id={fe_id}>\r\n            <div className={styles.wrapper}>\r\n              <div className={titleClassNames} onClick={() => handleTitleClick(fe_id)}>\r\n                {fe_id === changingTitleId ? (\r\n                  <Input\r\n                    value={title}\r\n                    onChange={changeTitle}\r\n                    onPressEnter={() => setChangingTitleId('')}\r\n                    onBlurCapture={() => setChangingTitleId('')}\r\n                  />\r\n                ) : (\r\n                  title\r\n                )}\r\n              </div>\r\n              <div className={styles.handler}>\r\n                <Space direction=\"horizontal\">\r\n                  <Button\r\n                    size=\"small\"\r\n                    shape=\"circle\"\r\n                    className={!isHidden ? styles.btn : ''}\r\n                    icon={\r\n                      <EyeInvisibleOutlined\r\n                        onPointerEnterCapture={undefined}\r\n                        onPointerLeaveCapture={undefined}\r\n                      />\r\n                    }\r\n                    type={isHidden ? 'primary' : 'text'}\r\n                    onClick={() => changeHidden(fe_id, !isHidden)}\r\n                  />\r\n                  <Button\r\n                    size=\"small\"\r\n                    shape=\"circle\"\r\n                    className={!isLocked ? styles.btn : ''}\r\n                    icon={\r\n                      <LockOutlined\r\n                        onPointerEnterCapture={undefined}\r\n                        onPointerLeaveCapture={undefined}\r\n                      />\r\n                    }\r\n                    type={isLocked ? 'primary' : 'text'}\r\n                    onClick={() => changeLocked(fe_id)}\r\n                  />\r\n                </Space>\r\n              </div>\r\n            </div>\r\n          </SortableItem>\r\n        )\r\n      })}\r\n    </SortableContainer>\r\n  )\r\n}\r\n\r\nexport default Layers\r\n","import React from 'react'\r\nimport { AppstoreAddOutlined, BarsOutlined } from '@ant-design/icons'\r\nimport { Tabs } from 'antd'\r\nimport ComponentLib from './ComponentLib'\r\nimport Layers from './Layers'\r\n\r\nconst LeftPanel: React.FC = () => {\r\n  const tabsItems = [\r\n    {\r\n      key: 'componentsLib',\r\n      label: (\r\n        <span>\r\n          <AppstoreAddOutlined\r\n            onPointerEnterCapture={undefined}\r\n            onPointerLeaveCapture={undefined}\r\n          />\r\n          组件库\r\n        </span>\r\n      ),\r\n      children: <ComponentLib />,\r\n    },\r\n\r\n    {\r\n      key: 'layers',\r\n      label: (\r\n        <span>\r\n          <BarsOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          图层\r\n        </span>\r\n      ),\r\n      children: <Layers />,\r\n    },\r\n  ]\r\n\r\n  return <Tabs defaultActiveKey=\"componentsLib\" items={tabsItems} />\r\n}\r\n\r\nexport default LeftPanel\r\n","import React from 'react'\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\nimport { ComponentPropsType, getComponentConfByType } from '../../../components/QuestionComponents'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport { changeComponentProps } from '../../../store/componentsReducer'\r\n\r\nconst NoProp = () => {\r\n  return <div style={{ textAlign: 'center' }}>未选中组件</div>\r\n}\r\n\r\nconst ComponentProp: React.FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { selectedComponent } = useGetComponentInfo()\r\n  if (selectedComponent == null) return <NoProp />\r\n\r\n  const { type, props, isLocked, isHidden } = selectedComponent\r\n  const componentConf = getComponentConfByType(type)\r\n  if (componentConf == null) return <NoProp />\r\n\r\n  const { PropComponent } = componentConf\r\n\r\n  function changeProps(newProps: ComponentPropsType) {\r\n    if (selectedComponent == null) return\r\n\r\n    const { fe_id } = selectedComponent\r\n    dispatch(changeComponentProps({ fe_id, props: newProps }))\r\n  }\r\n\r\n  return <PropComponent {...props} onChange={changeProps} disabled={isLocked || isHidden} />\r\n}\r\n\r\nexport default ComponentProp\r\n","import React, { useEffect } from 'react'\r\nimport useGetPageInfo from '../../../hooks/useGetPageInfo'\r\nimport { Form, Input } from 'antd'\r\nimport { useForm } from 'antd/es/form/Form'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport { resetPageInfo } from '../../../store/pageInfoReducer'\r\n\r\nfunction PageSetting() {\r\n  const dispatch = useAppDispatch()\r\n  const pageInfo = useGetPageInfo()\r\n  const [form] = useForm()\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(pageInfo)\r\n  }, [pageInfo])\r\n\r\n  function handleValuesChange() {\r\n    dispatch(resetPageInfo(form.getFieldsValue()))\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      layout=\"vertical\"\r\n      initialValues={pageInfo}\r\n      onValuesChange={handleValuesChange}\r\n    >\r\n      <Form.Item label=\"标题\" name=\"title\" rules={[{ required: true, message: '请输入标题' }]}>\r\n        <Input placeholder=\"请输入标题\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"描述\" name=\"desc\">\r\n        <Input.TextArea placeholder=\"请输入描述\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"样式代码\" name=\"css\">\r\n        <Input.TextArea placeholder=\"请输入样式代码\" />\r\n      </Form.Item>\r\n\r\n      <Form.Item label=\"脚本代码\" name=\"js\">\r\n        <Input.TextArea placeholder=\"请输入脚本代码\" />\r\n      </Form.Item>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default PageSetting\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Tabs } from 'antd'\r\nimport { FileTextOutlined, SettingOutlined } from '@ant-design/icons'\r\nimport ComponentProp from './ComponentProp'\r\nimport PageSetting from './PageSetting'\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\n\r\nenum TAB_KEYS {\r\n  PROP_KEY = 'prop',\r\n  SETTING_KEY = 'setting',\r\n}\r\n\r\nconst RightPanel: React.FC = () => {\r\n  const [activeKey, setActiveKey] = useState<TAB_KEYS>(TAB_KEYS.PROP_KEY)\r\n  const { selectedId } = useGetComponentInfo()\r\n\r\n  useEffect(() => {\r\n    if (selectedId) setActiveKey(TAB_KEYS.PROP_KEY)\r\n    else setActiveKey(TAB_KEYS.SETTING_KEY)\r\n  }, [selectedId])\r\n\r\n  const tabsItems = [\r\n    {\r\n      key: TAB_KEYS.PROP_KEY,\r\n      label: (\r\n        <span>\r\n          <FileTextOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          属性\r\n        </span>\r\n      ),\r\n      children: <ComponentProp />,\r\n    },\r\n    {\r\n      key: TAB_KEYS.SETTING_KEY,\r\n      label: (\r\n        <span>\r\n          <SettingOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          设置\r\n        </span>\r\n      ),\r\n      children: <PageSetting />,\r\n    },\r\n  ]\r\n\r\n  return <Tabs activeKey={activeKey} items={tabsItems}></Tabs>\r\n}\r\n\r\nexport default RightPanel\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header-wrapper\":\"EditHeader_header-wrapper__W1YLG\",\"header\":\"EditHeader_header__WzAvo\",\"left\":\"EditHeader_left__JG-Ni\",\"main\":\"EditHeader_main__CvIIM\",\"right\":\"EditHeader_right__5GXEz\"};","import React from 'react'\r\nimport {\r\n  BlockOutlined,\r\n  CopyOutlined,\r\n  DeleteOutlined,\r\n  DownOutlined,\r\n  EyeInvisibleOutlined,\r\n  LockOutlined,\r\n  RedoOutlined,\r\n  UndoOutlined,\r\n  UpOutlined,\r\n} from '@ant-design/icons'\r\nimport { Button, Space, Tooltip } from 'antd'\r\nimport { ActionCreators as UndoActionCreators } from 'redux-undo'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport {\r\n  changeComponentHidden,\r\n  copySelectedComponent,\r\n  moveComponent,\r\n  pasteCopiedComponent,\r\n  removeSelectedComponent,\r\n  toggleComponentLocked,\r\n} from '../../../store/componentsReducer'\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\n\r\nconst EditToolbar: React.FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const {\r\n    selectedId: fe_id,\r\n    componentList,\r\n    selectedComponent,\r\n    copiedComponent,\r\n  } = useGetComponentInfo()\r\n  const { isLocked } = selectedComponent || {}\r\n  const length = componentList.length\r\n  const selectedIndex = componentList.findIndex(item => item.fe_id === fe_id)\r\n  const isFirst = selectedIndex <= 0 // 是否是第一个\r\n  const isLast = selectedIndex >= length - 1 // 是否是最后一个\r\n\r\n  // 删除\r\n  function handleDelete() {\r\n    dispatch(removeSelectedComponent())\r\n  }\r\n\r\n  // 隐藏\r\n  function handleHidden() {\r\n    dispatch(changeComponentHidden({ fe_id, isHidden: true }))\r\n  }\r\n\r\n  // 锁定\r\n  function handleLock() {\r\n    dispatch(toggleComponentLocked({ fe_id }))\r\n  }\r\n\r\n  // 复制\r\n  function copy() {\r\n    dispatch(copySelectedComponent())\r\n  }\r\n\r\n  // 粘贴\r\n  function paste() {\r\n    // todo: 粘贴功能\r\n    dispatch(pasteCopiedComponent())\r\n  }\r\n\r\n  // 上移\r\n  function moveUp() {\r\n    if (isFirst) return\r\n    dispatch(moveComponent({ oldIndex: selectedIndex, newIndex: selectedIndex - 1 }))\r\n  }\r\n\r\n  // 下移\r\n  function moveDown() {\r\n    if (isLast) return\r\n    dispatch(moveComponent({ oldIndex: selectedIndex, newIndex: selectedIndex + 1 }))\r\n  }\r\n\r\n  // 撤销\r\n  function undo() {\r\n    dispatch(UndoActionCreators.undo())\r\n  }\r\n\r\n  // 重做\r\n  function redo() {\r\n    dispatch(UndoActionCreators.redo())\r\n  }\r\n\r\n  return (\r\n    <Space>\r\n      <Tooltip title=\"删除\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <DeleteOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={handleDelete}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"隐藏\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <EyeInvisibleOutlined\r\n              onPointerEnterCapture={undefined}\r\n              onPointerLeaveCapture={undefined}\r\n            />\r\n          }\r\n          onClick={handleHidden}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"锁定\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <LockOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={handleLock}\r\n          type={isLocked ? 'primary' : 'default'}\r\n        ></Button>\r\n      </Tooltip>{' '}\r\n      <Tooltip title=\"复制\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <CopyOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={copy}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"粘贴\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <BlockOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={paste}\r\n          disabled={copiedComponent == null}\r\n        ></Button>\r\n      </Tooltip>\r\n      <Tooltip title=\"上移\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={<UpOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />}\r\n          onClick={moveUp}\r\n          disabled={isFirst}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"下移\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <DownOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={moveDown}\r\n          disabled={isLast}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"撤销\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <UndoOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={undo}\r\n        />\r\n      </Tooltip>\r\n      <Tooltip title=\"重做\">\r\n        <Button\r\n          shape=\"circle\"\r\n          icon={\r\n            <RedoOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n          }\r\n          onClick={redo}\r\n        />\r\n      </Tooltip>\r\n    </Space>\r\n  )\r\n}\r\n\r\nexport default EditToolbar\r\n","import React, { ChangeEvent, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { Button, Typography, Space, Input, message } from 'antd'\r\nimport styles from './EditHeader.module.scss'\r\nimport { EditOutlined, LeftOutlined, SaveOutlined } from '@ant-design/icons'\r\nimport EditToolbar from './EditToolbar'\r\nimport useGetPageInfo from '../../../hooks/useGetPageInfo'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport { changePageTitle } from '../../../store/pageInfoReducer'\r\nimport useGetComponentInfo from '../../../hooks/useGetComponentInfo'\r\nimport { useDebounceEffect, useKeyPress, useRequest } from 'ahooks'\r\nimport { updateQuestionService } from '../../../services/question'\r\n\r\nconst { Title } = Typography\r\n\r\n// 标题组件\r\nconst TitleElem = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { title } = useGetPageInfo()\r\n  const [editState, setEditState] = useState(false)\r\n\r\n  function handleChange(event: ChangeEvent<HTMLInputElement>) {\r\n    const value = event.target.value.trim()\r\n    if (!value) return\r\n    dispatch(changePageTitle(value))\r\n  }\r\n\r\n  if (editState) {\r\n    return (\r\n      <Input\r\n        value={title}\r\n        onPressEnter={() => setEditState(false)}\r\n        onBlur={() => setEditState(false)}\r\n        onChange={handleChange}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Space>\r\n      <Title>{title}</Title>\r\n      <Button\r\n        icon={<EditOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />}\r\n        type=\"text\"\r\n        onClick={() => setEditState(true)}\r\n      />\r\n    </Space>\r\n  )\r\n}\r\n\r\n// 保存按钮\r\nconst SaveButton = () => {\r\n  const { id } = useParams()\r\n  const { componentList } = useGetComponentInfo()\r\n  const pageInfo = useGetPageInfo()\r\n\r\n  const { loading, run: save } = useRequest(\r\n    async () => {\r\n      if (!id) return\r\n      await updateQuestionService(id, { ...pageInfo, componentList })\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  )\r\n\r\n  // 自动保存\r\n  useDebounceEffect(\r\n    () => {\r\n      save()\r\n    },\r\n    [pageInfo, componentList],\r\n    { wait: 1000 }\r\n  )\r\n\r\n  useKeyPress(['ctrl.s', 'mate.s'], (event: KeyboardEvent) => {\r\n    event.preventDefault()\r\n    if (!loading) save()\r\n  })\r\n\r\n  return (\r\n    <Button\r\n      onClick={save}\r\n      loading={loading}\r\n      icon={\r\n        !loading ? (\r\n          <SaveOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n        ) : null\r\n      }\r\n    >\r\n      保存\r\n    </Button>\r\n  )\r\n}\r\n\r\n// 发布按钮\r\nconst PublishButton = () => {\r\n  const nav = useNavigate()\r\n  const { id } = useParams()\r\n  const { componentList } = useGetComponentInfo()\r\n  const pageInfo = useGetPageInfo()\r\n\r\n  const { loading, run: pub } = useRequest(\r\n    async () => {\r\n      if (!id) return\r\n      await updateQuestionService(id, {\r\n        ...pageInfo,\r\n        componentList,\r\n        isPublished: true, // 发布状态\r\n      })\r\n    },\r\n    {\r\n      manual: true,\r\n      onSuccess: () => {\r\n        message.success('发布成功')\r\n        nav(`/question/stat/${id}`) // 跳转到统计页面\r\n      },\r\n    }\r\n  )\r\n  return (\r\n    <Button type=\"primary\" onClick={pub} loading={loading}>\r\n      发布\r\n    </Button>\r\n  )\r\n}\r\n\r\n// 编辑页面的头部\r\nconst EditHeader = () => {\r\n  const nav = useNavigate()\r\n  return (\r\n    <div className={styles['header-wrapper']}>\r\n      <div className={styles.header}>\r\n        <div className={styles.left}>\r\n          <Space>\r\n            <Button\r\n              type=\"link\"\r\n              icon={\r\n                <LeftOutlined onPointerEnterCapture={undefined} onPointerLeaveCapture={undefined} />\r\n              }\r\n              onClick={() => nav(-1)}\r\n            >\r\n              返回\r\n            </Button>\r\n            <TitleElem />\r\n          </Space>\r\n        </div>\r\n        <div className={styles.main}>\r\n          <EditToolbar />\r\n        </div>\r\n        <div className={styles.right}>\r\n          <Space>\r\n            <SaveButton />\r\n            <PublishButton />\r\n          </Space>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditHeader\r\n","import React, { FC } from 'react'\r\nimport useLoadQuestionData from '../../../hooks/useLoadQuestionData'\r\nimport styles from './index.module.scss'\r\nimport EditCanvas from './EditCanvas'\r\nimport LeftPanel from './LeftPanel'\r\nimport { useAppDispatch } from '../../../store/hooks'\r\nimport { changeSelectedId } from '../../../store/componentsReducer'\r\nimport RightPanel from './RightPanel'\r\nimport EditHeader from './EditHeader'\r\nimport useGetPageInfo from '../../../hooks/useGetPageInfo'\r\nimport { useTitle } from 'ahooks'\r\n\r\nconst Edit: FC = () => {\r\n  const dispatch = useAppDispatch()\r\n  const { loading } = useLoadQuestionData()\r\n  const { title } = useGetPageInfo()\r\n  useTitle(`问卷编辑 - ${title}`)\r\n\r\n  function clearSelectedId() {\r\n    dispatch(changeSelectedId(''))\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <EditHeader />\r\n      <div className={styles['content-wrapper']}>\r\n        <div className={styles.content}>\r\n          <div className={styles.left}>\r\n            <LeftPanel />\r\n          </div>\r\n          <div className={styles.main} onClick={clearSelectedId}>\r\n            <div className={styles['canvas-wrapper']}>\r\n              <EditCanvas loading={loading} />\r\n            </div>\r\n          </div>\r\n          <div className={styles.right}>\r\n            <RightPanel />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Edit\r\n"],"names":["isActiveElementValid","activeElem","document","activeElement","body","matches","dispatch","useAppDispatch","useKeyPress","removeSelectedComponent","copySelectedComponent","pasteCopiedComponent","selectPrevComponent","selectNextComponent","UndoActionCreators","undo","exactMatch","redo","props","children","onDragEnd","items","sensors","useSensors","useSensor","MouseSensor","activationConstraint","distance","_jsx","DndContext","collisionDetection","closestCenter","event","active","over","id","oldIndex","findIndex","c","fe_id","newIndex","SortableContext","strategy","verticalListSortingStrategy","attributes","listeners","setNodeRef","transform","transition","useSortable","style","CSS","Transform","toString","ref","genComponent","componentInfo","type","componentConf","getComponentConfByType","Component","loading","componentList","selectedId","useGetComponentInfo","useBindCanvasKeyPress","textAlign","marginTop","Spin","componentListWithId","map","SortableContainer","moveComponent","className","styles","filter","isHidden","isLocked","wrapperDefaultClassName","selectedClassName","lockedClassName","wrapperClassName","classNames","SortableItem","onClick","e","handleClick","stopPropagation","changeSelectedId","Title","Typography","ComponentLib","_Fragment","componentConfGroup","group","index","groupId","groupName","components","_jsxs","level","fontSize","title","defaultProps","useCallback","addComponent","nanoid","changingTitleId","setChangingTitleId","useState","changeTitle","newTitle","target","value","trim","changeComponentTitle","component","titleDefaultClassName","titleClassNames","curComp","find","message","info","handleTitleClick","Input","onChange","onPressEnter","onBlurCapture","Space","direction","Button","size","shape","icon","EyeInvisibleOutlined","onPointerEnterCapture","undefined","onPointerLeaveCapture","changeComponentHidden","changeHidden","LockOutlined","toggleComponentLocked","changeLocked","LeftPanel","tabsItems","key","label","AppstoreAddOutlined","BarsOutlined","Layers","Tabs","defaultActiveKey","NoProp","ComponentProp","selectedComponent","PropComponent","newProps","changeComponentProps","disabled","pageInfo","useGetPageInfo","form","useForm","useEffect","setFieldsValue","Form","layout","initialValues","onValuesChange","resetPageInfo","getFieldsValue","Item","name","rules","required","placeholder","TextArea","TAB_KEYS","RightPanel","activeKey","setActiveKey","PROP_KEY","SETTING_KEY","FileTextOutlined","SettingOutlined","PageSetting","EditToolbar","copiedComponent","length","selectedIndex","item","isFirst","isLast","Tooltip","DeleteOutlined","CopyOutlined","BlockOutlined","UpOutlined","DownOutlined","UndoOutlined","RedoOutlined","TitleElem","editState","setEditState","onBlur","changePageTitle","EditOutlined","SaveButton","useParams","run","save","useRequest","async","updateQuestionService","manual","useDebounceEffect","wait","preventDefault","SaveOutlined","PublishButton","nav","useNavigate","pub","isPublished","onSuccess","success","concat","EditHeader","LeftOutlined","Edit","useLoadQuestionData","useTitle","EditCanvas"],"sourceRoot":""}